<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–õ—é–±–∏–º–∞—è ‚ù§Ô∏è –ù–∞–≤—Å–µ–≥–¥–∞</title>

  <style>
    body {margin:0; padding:0; overflow:hidden; font-family:'Segoe UI', sans-serif; background:black; color:white; text-align:center;}
    canvas {position:fixed; top:0; left:0; z-index:0;}
    .container {position:relative; z-index:2; top:50%; transform:translateY(-50%); padding:20px;}
    h1 {font-size:40px; color:#ff4f81; text-shadow:0 0 20px #ff4f81;}
    p {font-size:20px; line-height:1.6;}
    .counter {margin:15px 0; font-weight:bold; font-size:20px; color:#ff9ab0;}
    button {margin:10px; padding:12px 25px; font-size:16px; border:none; border-radius:25px; cursor:pointer; background:#ff4f81; color:white; transition:0.3s;}
    button:hover {transform:scale(1.1); box-shadow:0 0 20px #ff4f81;}
    .hidden {display:none; margin-top:15px; color:#ffb6c1;}
    #heart {position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); font-size:100px; opacity:0.8; animation:pulse 2s infinite; z-index:1;}
    @keyframes pulse {0% {transform:translate(-50%,-50%) scale(1);} 50% {transform:translate(-50%,-50%) scale(1.2);} 100% {transform:translate(-50%,-50%) scale(1);}}
    .word {position:absolute; font-size:22px; color:#ff9ab0; opacity:0; white-space:nowrap; pointer-events:none;}
    img.heartPhoto {position:absolute; width:60px; height:60px; border-radius:15px; opacity:0; pointer-events:none; transition:all 0.8s ease;}
  </style>
</head>

<body>
  <canvas id="stars"></canvas>
  <div id="heart">üíñ</div>

  

<div class="container">
    <h1>–õ—é–±–∏–º–∞—è ‚ù§Ô∏è</h1>
    <p>
      –° 05.05.2025 –º—ã –≤–º–µ—Å—Ç–µ.<br>
      10.12.2025 –º—ã —Å—Ç–∞–ª–∏ –º—É–∂–µ–º –∏ –∂–µ–Ω–æ–π.<br>
      –ú—ã –ª—é–±–∏–º, –¥–æ—Ä–æ–∂–∏–º –¥—Ä—É–≥ –¥—Ä—É–≥–æ–º –∏ —Å–∞–º—ã–µ —Å—á–∞—Å—Ç–ª–∏–≤—ã–µ –ª—é–¥–∏.
    </p>

    <div class="counter" id="counter"></div>

    <button id="btnOath">–ú–æ—è –∫–ª—è—Ç–≤–∞ üíç</button>
    <button id="btnForever">–ù–∞–≤—Å–µ–≥–¥–∞ ‚ôæÔ∏è</button>
    <button id="btnSecret">–°–µ–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ—Å–ª–∞–Ω–∏–µ üîí</button>
    <button id="btnHeartWords">–°–µ—Ä–¥—Ü–µ –∏–∑ —Å–ª–æ–≤ üíñ</button>

    <div class="hidden" id="oath">
      –Ø –æ–±–µ—â–∞—é –±—ã—Ç—å —Ä—è–¥–æ–º –≤ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –≤ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏. –ë–µ—Ä–µ—á—å —Ç–µ–±—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –ª—é–±–∏—Ç—å —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º. ‚ù§Ô∏è
    </div>
    <div class="hidden" id="forever">
      –î–∞–∂–µ —á–µ—Ä–µ–∑ 50 –ª–µ—Ç —è –±—É–¥—É —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–µ–±—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ —Å–∞–º—ã–π –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å. –¢—ã ‚Äî –º–æ—è —Å—É–¥—å–±–∞. üåü
    </div>
    <div class="hidden" id="secret">
      –õ—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ, —á–µ–º –≤—Å–µ–ª–µ–Ω–Ω–∞—è –∑–≤—ë–∑–¥ üåå<br>
      –ù–∞–≤—Å–µ–≥–¥–∞ —Ç–≤–æ–π. üíñ
    </div>
  </div>

  <!-- –ú—É–∑—ã–∫–∞: —Ñ–∞–π–ª love.mp3 –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å —ç—Ç–∏–º HTML -->
  <audio id="bgm" loop>
    <source src="love.mp3" type="audio/mpeg">
  </audio>

  <script>
    "use strict";

    // ===== –î–∞—Ç—ã =====
    const startRelationship = new Date("2025-05-05T00:00:00");
    const weddingDate = new Date("2025-12-10T00:00:00");

    function daysBetween(from, to) {
      return Math.floor((to - from) / (1000 * 60 * 60 * 24));
    }

    function updateCounter() {
      const now = new Date();

      const daysTogether = Math.max(0, daysBetween(startRelationship, now));
      const daysMarriage = Math.max(0, daysBetween(weddingDate, now));

      document.getElementById("counter").innerHTML =
        `–ú—ã –≤–º–µ—Å—Ç–µ —É–∂–µ: <b>${daysTogether}</b> –¥–Ω–µ–π ‚ù§Ô∏è<br>` +
        `–ú—ã –º—É–∂ –∏ –∂–µ–Ω–∞ —É–∂–µ: <b>${daysMarriage}</b> –¥–Ω–µ–π üíç`;
    }

    setInterval(updateCounter, 60000);
    updateCounter();

    // ===== –ú—É–∑—ã–∫–∞ (autoplay –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è) =====
    const bgm = document.getElementById("bgm");
    function tryPlayMusic() {
      if (!bgm) return;
      bgm.play().catch(() => { /* –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å */ });
    }
    // –ø—Ä–æ–±—É–µ–º —Å—Ä–∞–∑—É
    tryPlayMusic();
    // –∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
    window.addEventListener("pointerdown", tryPlayMusic, { once: true });

    // ===== –ö–Ω–æ–ø–∫–∏ =====
    const oathEl = document.getElementById("oath");
    const foreverEl = document.getElementById("forever");
    const secretEl = document.getElementById("secret");

    document.getElementById("btnOath").addEventListener("click", () => {
      oathEl.style.display = "block";
      tryPlayMusic();
    });

    document.getElementById("btnForever").addEventListener("click", () => {
      foreverEl.style.display = "block";
      tryPlayMusic();
    });

    document.getElementById("btnSecret").addEventListener("click", () => {
      secretEl.style.display = "block";
      createPhotoHeart();
      createStarsText();
      tryPlayMusic();
    });

    document.getElementById("btnHeartWords").addEventListener("click", () => {
      formHeartWords();
      tryPlayMusic();
    });

    // ===== –ó–≤—ë–∑–¥—ã =====
    const canvas = document.getElementById("stars");
    const ctx = canvas.getContext("2d");

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();

    let stars = [];
    function initStars() {
      stars = [];
      for (let i = 0; i < 300; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 1.5,
          speed: Math.random() * 0.5
        });
      }
    }
    initStars();

    function drawStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "white";

      for (const s of stars) {
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
        ctx.fill();

        s.y += s.speed;
        if (s.y > canvas.height) s.y = 0;
      }

      requestAnimationFrame(drawStars);
    }
    drawStars();

    // ===== –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —Å–ª–æ–≤–∞ =====
    function fadeIn(el, step = 0.05, intervalMs = 50) {
      let opacity = 0;
      const interval = setInterval(() => {
        opacity += step;
        el.style.opacity = String(opacity);
        if (opacity >= 1) clearInterval(interval);
      }, intervalMs);
    }

    function createStarsText() {
      for (let i = 0; i < 50; i++) {
        const span = document.createElement("div");
        span.textContent = "üíñ –õ—é–±–∏–º–∞—è üíñ";
        span.className = "word";
        span.style.left = (Math.random() * 100) + "vw";
        span.style.top = (Math.random() * 100) + "vh";
        span.style.fontSize = (Math.random() * 25 + 15) + "px";
        document.body.appendChild(span);

        fadeIn(span);
        setTimeout(() => span.remove(), 5000);
      }
    }

    // ===== –°–µ—Ä–¥—Ü–µ –∏–∑ —Å–ª–æ–≤ =====
    function formHeartWords() {
      const words = "–Ø –æ–±–µ—â–∞—é –ª—é–±–∏—Ç—å —Ç–µ–±—è –õ—é–±–∏–º–∞—è –Ω–∞–≤—Å–µ–≥–¥–∞ –±–µ—Ä–µ—á—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å".split(" ");
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const scale = 10;

      words.forEach((w, i) => {
        setTimeout(() => {
          const angle = (i / words.length) * Math.PI * 2;
          const x = cx + scale * 16 * Math.pow(Math.sin(angle), 3);
          const y = cy - scale * (
            13 * Math.cos(angle)
            - 5 * Math.cos(2 * angle)
            - 2 * Math.cos(3 * angle)
            - Math.cos(4 * angle)
          );

          const span = document.createElement("div");
          span.textContent = w;
          span.className = "word";
          span.style.left = x + "px";
          span.style.top = y + "px";
          span.style.fontSize = "24px";
          document.body.appendChild(span);

          fadeIn(span);
          setTimeout(() => span.remove(), 12000);
        }, i * 500);
      });
    }

    // ===== –§–æ—Ç–æ-—Å–µ—Ä–¥—Ü–µ =====
    function createPhotoHeart() {
      const photos = [
        "photo1.jpg",
        "photo2.jpg",
        "photo3.jpg",
        "photo4.jpg",
        "photo5.jpg",
        "photo6.jpg"
      ];

      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const scale = 8;

      photos.forEach((src, i) => {
        const img = document.createElement("img");
        img.src = src;
        img.className = "heartPhoto";
        document.body.appendChild(img);

        const angle = (i / photos.length) * Math.PI * 2;
        const x = cx + scale * 16 * Math.pow(Math.sin(angle), 3) - 30;
        const y = cy - scale * (
          13 * Math.cos(angle)
          - 5 * Math.cos(2 * angle)
          - 2 * Math.cos(3 * angle)
          - Math.cos(4 * angle)
        ) - 30;

        setTimeout(() => {
          img.style.left = x + "px";
          img.style.top = y + "px";
          img.style.opacity = "1";
        }, i * 400);

        setTimeout(() => img.remove(), 15000);
      });
    }

    // ===== –ê–¥–∞–ø—Ç–∏–≤ =====
    window.addEventListener("resize", () => {
      resizeCanvas();
      initStars();
    });
  </script>
</body>
</html>
